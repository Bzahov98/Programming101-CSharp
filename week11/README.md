#UI Frameworks

This week we will get familiar with the most basic UI frameworks
for .NET, namely Windows Forms and WPF

## Windows Forms

Windows Forms is the oldest (some already call it ancient) UI framework
on .NET. It represents a wrapper around the Win32 API (the API for writing
UI before .NET even existed). The Windows Forms framework is centered
around controls (components) which communicate with each other via events and event handlers
and expose their internal state with properties. For example, the CheckBox
control has a boolean property CheckedChanged which fires when the user checks
or unchecks the checkbox and a CheckedState property which tells us the current
state of the check box (checked/unchecked/indeterminate).

A good step-by-step tutorial can be found on MSDN: [Getting Started with Visual C# and Visual Basic](https://msdn.microsoft.com/en-us/library/dd492132.aspx)

### Creating a Windows Forms project

Simply click `File -> New -> Project` and select `Windows Forms Application`
from the menu.

### Form

What you will see now is an empty standard-looking window inside Visual Studio.
This is the designer surface where you can arrange and design your forms. The
Form class is the base class for a window. When you create the project you will
have an autogenerated Form1 class which inherits the Form class.

### Properties

Right click the form in the designer and click properties. This will open the
properties window where you can edit the properties of the selected component.
Here you can change the Text, the Size and the BackColor of the form. Each property
you set in the Properties window actually generates C# code which goes into the
Form1.Designer.cs file.

### Project structure

A new Windows Forms project initially has 3 files: `Form1.cs` Form1.Designer.cs` and `Program.cs`.

`Program.cs` as usual contains the Main method. It will contain autogenerated code which displays
the window defined by Form1.

`Form1.Designer.cs` contains the code generated by Visual Studio's designer, while you were
dragging controls and changing properties in its interface.

`Form1.cs` is the place where you write your code and your event handlers.

### Controls

The `Control` class is a base class for all UI components. All controls can be found
in the `Toolbox` window. You can drag and drop them on the form and arrange them the way
you like. When you have controls on your form, you can select them and modify their properties
in the `Properties` window. You can also browse their events and create event handlers in the
`Events` tab.

### Simple controls

The Windows Forms framework provides a set of standard controls like buttons, checkboxes,
radio buttons, etc. You can browse them in the `Toolbox` and drag them on the form to
see how they look and behave.

### Container controls

Controls can be contained within each other and form a hierarchical control structure.
There are special controls which are designed to be containers: Panel, GroupBox, Form,
WrapPanel, TableLayoutPanel. Container controls are used to organize the layout of your
forms in a user friendly way.

### Data controls

Another group of controls is designed to display data to the user. For example, if
we want to display a database table, you can use the DataGridView. For displaying
simple list data you can use the ListBox or ListView. For displaying hierarchical
data, you can use the TreeView.

## WPF (Windows Presentation Foundation)

WPF is the successor of Windows Forms and it tries to resolve most of it drawbacks such as:

* Lack of flexibility/customization abilities for the standard controls
* Input handling issues
* Issues on high pixel density monitors
* Lack of flexibility when creating data centric applications.
* Lack of hardware acceleration

WPF introduces XAML (Extensible Application Markup Language) which stands for
declaratively creating the user interface of the form and separating the UI
logic and the data logic.

You can redefine the appearance of standard controls in XAML by redefining their
templates or applying styles to them.

Input handling is much more flexible as all events pass through all related controls
goint from the parent to its children first (tunnelling event) and then fron the children
to their parents (bubbling events).

The measurement unit in WPF is device independent. WPF controls use double for all coordinates
and sizes and this allows the framework to automatically scale our application so it looks good
on all different DPI resolutions.

WPF improves the DataBinding concept which was not working very well in Windows Forms. Data-centric
applications can be created almost entirely declaratively.

WPF uses the GPU to accelerate graphics rendering and WPF applications usually look and feel much
more smooth than applications written in Windows Forms. It can also animate properties of the objects.

### XAML
http://www.wpftutorial.net/XAML.html

### Controls and ControlTemplates
http://www.wpftutorial.net/templates.html

### Layout Containers
http://www.wpftutorial.net/LayoutProperties.html

### Styles
http://www.wpf-tutorial.com/styles/using-styles/

### Animations
http://www.wpf-tutorial.com/styles/trigger-animations-enteractions-exitactions/

## DataBinding

The process of displaying and updating properties of data objects in other components (controls for example)
is called DataBinding. DataBinding basically "binds" properties of two different object to each other
so that when we change the properties of one of the objects, this automatically updates the corresponding
bound property of the other.

The most basic way DataBinding is implemented is by using PropertyChanged event from the INotifyPropertyChanged
interface. Each of the bound objects listens for the event of the other object and updates its bound property.

### Simple databinding

We call simple databinding the process of binding two properties of two objects only. For example,
when we bind the Employee.FirstName property to the EmployeeTextBox.Text property to allow editing
the first name of an employee in a text box.

### DataBinding with collections

In some cases we might want to bind the two collections so that each of them reflects the changes
in the other and both of their contents are kept the same. This is needed for example when we want to list
all employees in a ListBox control and allow create/read/update/delete operations (CRUD).

### DataBinding in Windows Forms

`Simple DataBinding` in Windows Forms is done through the DataBindings property. Each control has
this property. It is basically a collection which contains objects of type `Binding` and each
of these objects describes the source object as well as the properties to bind.

(Simple databinding in Windows Forms)[https://msdn.microsoft.com/en-us/library/system.windows.forms.control.databindings%28v=vs.110%29.aspx]

`Binding to collections` is supported by only a small set of controls: ListBox, ComboBox, DataGridView. They both have the DataSource property
which should be set with a collection of objects. DataGridView has columns, so it can display multiple properties of the source collection's objects.
ListBox can display only one item at once, so it has the DisplayMember and ValueMember properties which should be set with
the name of the poperties of the collection's object to which the members should be bound.

* (Ways to bind the DataGridView)[http://www.c-sharpcorner.com/UploadFile/deveshomar/ways-to-bind-datagridview-in-window-forms-C-Sharp/]
* (ListBox tutorial)[http://www.dotnetperls.com/listbox]

### DataBinding in WPF

DataBinding in WPF is much more powerful and flexible, but it keeps the same principles.

(DataBinding in WPF)[http://www.wpftutorial.net/Databinding.html]

In WPF, binding is mostly done in XAML via the "{Binding *}" syntax. 

In WPF, each element has the DataContext property which can be set with a data object which will be used
for the base of most of our bindings. For example, if we have a form which edits employees, we can set the
DataContext of the form to be the edited Employee object, and then use "{Binding FirstName}", "{Binding LastName}"
to bind the text box editors to the properties of the employee.

(XAML Binding Basics)[http://blogs.msdn.com/b/jerrynixon/archive/2012/10/12/xaml-binding-basics-101.aspx]

WPF allows us to bind to sub-properties. For example, if our Employee had an `Address` property which had a
`Street` property, we can bind to it by simply writing "{Binding Address.Street}".

WPF also allows us to specify converters when binding to data. Converters are used when the two properties we
want to bind are from a different type. For example, if we want to set the `IsEnabled` property of a text box
to true only when the FirstName is not empty, we should use a converter.

(WPF Converters)[http://www.wpftutorial.net/ValueConverters.html]

Binding in WPF is not limited to the properties of the DataContext only. We can specify a source object in
each binding.

(Binding sources in WPF)[http://www.c-sharpcorner.com/UploadFile/41e70f/binding-source-objects-in-wpf/]